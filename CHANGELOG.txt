CHANGELOG

All notable changes to online-resources/raw-text/ are documented in this file.
Format based on Keep a Changelog. Project adheres to Semantic Versioning.

================================================================================

[Unreleased]

================================================================================

[2.2.0] - 2025-11-13

Added:
- .github/workflows/stale-content-detector.yml for identifying outdated content
- .github/workflows/link-checker.yml for validating internal file references
- .github/workflows/changelog-auto.yml for generating changelog from commits

Changed:
- Pre-commit CI: Auto-fix ENABLED (commits fixes to PRs automatically)
- Dependabot: Weekly → Daily updates (09:00/10:00 BRT)

Features:
- Stale Content Detector: Monthly cron to find files >180 days old
- Link Checker: Validates .txt references, metadata twins, and chunks.json
- Changelog Auto: Parses conventional commits and suggests version bumps

Note:
- All 3 workflows are YAML-validated and production-ready
- Stale detector creates/updates GitHub issues automatically
- Link checker fails pipeline if broken links detected
- Changelog generator produces Keep a Changelog format

================================================================================

[2.1.0] - 2025-11-13

Added:
- .github/pull_request_template.md with comprehensive validation checklist
- .github/dependabot.yml for automated dependency updates (Python + GitHub Actions)
- .github/CODEOWNERS for automatic review assignments
- .github/workflows/pre-commit-ci.yml for CI-based linting and auto-fix
- .github/workflows/validate-content.yml for specialized .txt file validation
- .github/workflows/dependency-review.yml for security scanning of dependencies
- .github/workflows/release.yml for semi-automated release process
- .github/SECURITY.md with vulnerability reporting policy

Changed:
- Enhanced GitHub infrastructure with 8 new automation files
- Improved developer experience with standardized PR templates
- Strengthened security posture with multiple scanning workflows

Note:
- All workflows are YAML-validated and follow GitHub Actions best practices
- Dependabot configured for weekly updates with grouped PRs to reduce noise
- Release workflow requires manual trigger (workflow_dispatch) for safety
- Security policy establishes responsible disclosure process

================================================================================

[1.2.0] - 2025-11-13

Added:
- header_h1/ directory with README.md (H1-level headers)
- header_h2/ directory with README.md (H2-level headers)
- header_h3/ directory with README.md (H3-level headers)
- Pydantic v2 validation framework (pydantic>=2.9.0, pydantic-settings>=2.5.0)
- Pydantic v2 models: .claude/models/metadata_twin.py
- Pydantic v2 models: .claude/models/chunks.py
- Pydantic v2 models: .claude/models/ingestion_audit.py
- Pydantic validator: .claude/hooks/validate_metadata_twin_pydantic.py
- Pydantic validator: .claude/hooks/validate_chunks_pydantic.py
- requirements.txt for Python dependencies
- .gitignore for Python artifacts
- Root-level chunks.json manifest
- Metadata twin validation hook (validate_metadata_twins.sh)
- Distribution note in chunks.json about header exclusion from baseline
- Component-specific README files for all 11 categories plus headers

Changed:
- Updated all Pydantic models to include header_h1, header_h2, header_h3 components
- Migrated validate_audit_json.py from jsonschema to Pydantic v2
- Updated server-contract.md §3 with new header component categories
- Updated .pre-commit-config.yaml to use Pydantic validators
- Updated validate_raw_text_only.sh to allow README.md and .json metadata twins
- chunks.json component_distribution extended with header fields

Note:
- Headers (header_h1, header_h2, header_h3) are structural elements
- Headers do NOT count towards 70-80% plaintext and 20-30% others baseline
- This is backward compatible - existing clients continue to work
- New components are additive only, no breaking changes

================================================================================

[1.1.0] - 2025-11-13

Added:
- Pre-commit hooks configuration (.pre-commit-config.yaml)
- Standard hooks from pre-commit v4.4.0 and v6.0.0
- Custom validation hook: validate_raw_text_only.sh
- Custom validation hook: validate_audit_json.py (JSON schema validation)
- Custom validation hook: forbid_html_js_css.sh
- Custom validation hook: check_crlf.sh
- Custom validation hook: validate_filename_pattern.sh
- First content fragment: 001-politica-controle-qualidade-contabil-41f5.txt
- Ingestion audit trail system (.claude/ingestion-audit.json)
- Ingestion audit schema (.claude/ingestion-audit-schema.json)

Removed:
- shadow-original/ folder (replaced by JSON audit trail)
- shadow-fragments-original/ folder (replaced by JSON audit trail)
- shadow-fragments-transformed/ folder (replaced by JSON audit trail)

Changed:
- Updated brandguide bundle integration
- Fixed trailing whitespace in contract files
- Fixed end-of-file newlines in schema files

================================================================================

[1.0.0] - 2025-11-12

Added:
- Initial directory structure for online-resources/raw-text/
- Content categories: plaintext/, callouts/, docks/, tradeoffs/, tables/, data/, faqs/, diagrams/, disclaimers/, others/
- Metadata directory: meta/
- Metadata files: glossario.json.txt, abbr.json.txt, integrity.txt, TREE.txt
- Root files: DEPRECATIONS.txt, CHANGELOG.txt

================================================================================

Links:
[Unreleased]: https://github.com/focofacofoco/ceocont-etica-public-resources/compare/v1.2.0...HEAD
[1.2.0]: https://github.com/focofacofoco/ceocont-etica-public-resources/compare/v1.1.0...v1.2.0
[1.1.0]: https://github.com/focofacofoco/ceocont-etica-public-resources/compare/v1.0.0...v1.1.0
[1.0.0]: https://github.com/focofacofoco/ceocont-etica-public-resources/releases/tag/v1.0.0
